schema: '2.0'
stages:
  download_dataset@enron_spam:
    cmd: PYTHONPATH=. python experiments/scripts/download_dataset.py --dataset_name
      enron_spam --output_dir data/datasets/enron_spam
    deps:
    - path: experiments/scripts/download_dataset.py
      md5: 9eb915fd5b9216965db519f686408a51
      size: 887
    outs:
    - path: data/datasets/enron_spam/
      md5: 66d44efedf37990b1989c81bbee085e0.dir
      size: 53096069
      nfiles: 3
  get_model@enron_spam:
    cmd: PYTHONPATH=. python experiments/scripts/get_model.py --dataset_name enron_spam
      --output_dir data/models/enron_spam
    deps:
    - path: data/preprocessed/enron_spam
      md5: b75efba1a62182dc8ac32acd1faf92ed.dir
      size: 61709260
      nfiles: 3
    - path: experiments/scripts/get_model.py
      md5: 5050f51b4019bba97af47971f6c7cab4
      size: 747
    outs:
    - path: data/models/enron_spam/
      md5: 3e16b22f59532c66beeadea958e0579a.dir
      size: 18505614
      nfiles: 6
  classify@enron_spam:
    cmd: PYTHONPATH=. python experiments/scripts/classify.py --dataset_name enron_spam
      --output_dir data/classification/enron_spam
    deps:
    - path: data/models/enron_spam/
      md5: 3e16b22f59532c66beeadea958e0579a.dir
      size: 18505614
      nfiles: 6
    - path: data/preprocessed/enron_spam/
      md5: b75efba1a62182dc8ac32acd1faf92ed.dir
      size: 61709260
      nfiles: 3
    - path: experiments/scripts/classify.py
      md5: 6fc1a6a0a11ba6cd99a8b6625a96d9f5
      size: 1181
    outs:
    - path: data/classification/enron_spam
      md5: 0450c0b672bc4a5db3cc7be2dac786bd.dir
      size: 10674882
      nfiles: 2
  explain@enron_spam:
    cmd: PYTHONPATH=. python experiments/scripts/explain.py --dataset_name enron_spam
      --output_dir data/explanations/enron_spam
    deps:
    - path: data/models/enron_spam
      md5: 3e16b22f59532c66beeadea958e0579a.dir
      size: 18505614
      nfiles: 6
    - path: data/preprocessed/enron_spam
      md5: b75efba1a62182dc8ac32acd1faf92ed.dir
      size: 61709260
      nfiles: 3
    - path: experiments/scripts/explain.py
      md5: 4e40a6415038ec6eb4140b54ff65c9c0
      size: 1449
    outs:
    - path: data/explanations/enron_spam/
      md5: 345282e7c4e774d55aba55ed56ec464f.dir
      size: 7870394
      nfiles: 1
  download_dataset@poleval:
    cmd: PYTHONPATH=. python experiments/scripts/download_dataset.py --dataset_name
      poleval --output_dir data/datasets/poleval
    deps:
    - path: experiments/scripts/download_dataset.py
      md5: 9eb915fd5b9216965db519f686408a51
      size: 887
    outs:
    - path: data/datasets/poleval/
      md5: 826f974f794e24efcb5aedb054d1fd55.dir
      size: 1688836
      nfiles: 3
  preprocess_dataset@poleval:
    cmd: PYTHONPATH=. python experiments/scripts/tag_dataset.py --dataset_name poleval
    deps:
    - path: data/datasets/poleval/
      md5: 826f974f794e24efcb5aedb054d1fd55.dir
      size: 1688836
      nfiles: 3
    - path: experiments/scripts/tag_dataset.py
      md5: 8e8039b73b8ea3ce39287ed0a304af9b
      size: 3750
    outs:
    - path: data/preprocessed/poleval/
      md5: 854387459b193c5eba6db1273ca5ad23.dir
      size: 2277282
      nfiles: 3
  preprocess_dataset@enron_spam:
    cmd: PYTHONPATH=. python experiments/scripts/tag_dataset.py --dataset_name enron_spam
    deps:
    - path: data/datasets/enron_spam/
      md5: 66d44efedf37990b1989c81bbee085e0.dir
      size: 53096069
      nfiles: 3
    - path: experiments/scripts/tag_dataset.py
      md5: 8e8039b73b8ea3ce39287ed0a304af9b
      size: 3750
    outs:
    - path: data/preprocessed/enron_spam/
      md5: b75efba1a62182dc8ac32acd1faf92ed.dir
      size: 61709260
      nfiles: 3
  preprocess_dataset@wiki_pl:
    cmd: PYTHONPATH=. python experiments/scripts/tag_dataset.py --dataset_name wiki_pl
    deps:
    - path: data/datasets/wiki_pl/
      md5: abcbccb3e352ed623cace1b95078bd63.dir
      size: 29115538
      nfiles: 3
    - path: experiments/scripts/tag_dataset.py
      md5: 8e8039b73b8ea3ce39287ed0a304af9b
      size: 3750
    outs:
    - path: data/preprocessed/wiki_pl/
      md5: 3e9b2e1e0542777e0a751d9d7f7f4241.dir
      size: 55380570
      nfiles: 3
  classify@wiki_pl:
    cmd: PYTHONPATH=. python experiments/scripts/classify.py --dataset_name wiki_pl
      --output_dir data/classification/wiki_pl
    deps:
    - path: data/models/wiki_pl/
      md5: fd453042628fb09c080ef05d34a32cce.dir
      size: 501711136
      nfiles: 7
    - path: data/preprocessed/wiki_pl/
      md5: 3e9b2e1e0542777e0a751d9d7f7f4241.dir
      size: 55380570
      nfiles: 3
    - path: experiments/scripts/classify.py
      md5: 6fc1a6a0a11ba6cd99a8b6625a96d9f5
      size: 1181
    outs:
    - path: data/classification/wiki_pl
      md5: 515330772505f489b55686545bcf23a0.dir
      size: 34103198
      nfiles: 2
  preprocess_dataset@20_news:
    cmd: PYTHONPATH=. python experiments/scripts/tag_dataset.py --dataset_name 20_news
    deps:
    - path: data/datasets/20_news/
      md5: 999207f1c2c123c9943397b47f2c3b3a.dir
      size: 23460358
      nfiles: 3
    - path: experiments/scripts/tag_dataset.py
      md5: 8e8039b73b8ea3ce39287ed0a304af9b
      size: 3750
    outs:
    - path: data/preprocessed/20_news/
      md5: 1ed5ef2dabe4bc05f7377175ed11137b.dir
      size: 46845669
      nfiles: 3
  classify@20_news:
    cmd: PYTHONPATH=. python experiments/scripts/classify.py --dataset_name 20_news
      --output_dir data/classification/20_news
    deps:
    - path: data/models/20_news/
      md5: 43d68a67ecb8149bd6bf50db9767cb64.dir
      size: 439008808
      nfiles: 6
    - path: data/preprocessed/20_news/
      md5: 1ed5ef2dabe4bc05f7377175ed11137b.dir
      size: 46845669
      nfiles: 3
    - path: experiments/scripts/classify.py
      md5: 6fc1a6a0a11ba6cd99a8b6625a96d9f5
      size: 1181
    outs:
    - path: data/classification/20_news
      md5: 6831f104f7c20541548fe72250c45706.dir
      size: 31286120
      nfiles: 2
  attack@enron_spam:
    cmd: PYTHONPATH=. python experiments/scripts/attack.py --dataset_name enron_spam
    deps:
    - path: data/models/enron_spam
      md5: 3e16b22f59532c66beeadea958e0579a.dir
      size: 18505614
      nfiles: 6
    - path: data/preprocessed/enron_spam
      md5: b75efba1a62182dc8ac32acd1faf92ed.dir
      size: 61709260
      nfiles: 3
    - path: experiments/scripts/attack.py
      md5: 80f4725e81f070494d926c4916bd9cf4
      size: 3352
    outs:
    - path: data/results/enron_spam/
      md5: fc35de09ce5e2aa7043325b2819c0aa0.dir
      size: 4869
      nfiles: 1
